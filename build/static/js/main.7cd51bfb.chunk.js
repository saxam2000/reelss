(this.webpackJsonpreels=this.webpackJsonpreels||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),s=n.n(r),o=(n(132),n(133),n(13)),i=n.n(o),l=n(18),u=n(9),d=n(192),j=n(57),b=n.n(j),p=n(38),h=n.n(p),f=n(17),m=n(186),O=n(189),x=n(191),v=n(72),g=n(2),y=Object(m.a)((function(e){return{root:{flexGrow:1},app:{backgroundColor:"#a48aa5"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function w(){var e=y(),t=c.a.useState(!0),n=Object(u.a)(t,2),a=(n[0],n[1],c.a.useState(null)),r=Object(u.a)(a,2),s=r[0];r[1],Boolean(s);return Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)(O.a,{className:e.app,position:"fixed",children:Object(g.jsx)(x.a,{children:Object(g.jsx)(v.a,{variant:"h6",style:{fontSize:"1.7rem"},className:e.title,children:"LateLitre"})})})})}var k=n.p+"static/media/background.33af1551.jpg";Object(m.a)((function(e){return{button:{margin:e.spacing(1)}}}));var N=n(63);n(140),n(150),n(151);N.a.initializeApp({apiKey:"AIzaSyCBpPU9iHX378oZSKTqBXUPBzbpuo-gkME",authDomain:"reels-40b22.firebaseapp.com",projectId:"reels-40b22",storageBucket:"reels-40b22.appspot.com",messagingSenderId:"904897954009",appId:"1:904897954009:web:68a14d12da447d8271fec8"});var C=N.a.auth(),S=N.a.firestore(),I={users:S.collection("users"),posts:S.collection("posts"),comments:S.collection("comments"),getCurrentTimeStamp:N.a.firestore.FieldValue.serverTimestamp},D=N.a.storage(),P=c.a.createContext();var F=function(e){var t=e.children,n=Object(a.useState)(),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!0),i=Object(u.a)(o,2),l=i[0],d=i[1];Object(a.useEffect)((function(){var e=C.onAuthStateChanged((function(e){s(e),d(!1)}));return function(){e()}}),[]);var j={currentUser:r,login:function(e,t){return C.signInWithEmailAndPassword(e,t)},logout:function(){return C.signOut()},signup:function(e,t){return C.createUserWithEmailAndPassword(e,t)}};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(P.Provider,{value:j,children:!l&&t})})},T=n(195),U=n(194),L=n(205),E=n(206),B=n(196),z=Object(m.a)({heading:{position:"relative",top:"10vh",left:"10vw",fontSize:"8vh",color:"darkBlue",margin:"3px"},form:{margin:"5vh",position:"absolute",top:"50vh"},loginLink:{position:"relative",bottom:"-20vh",left:"11vw",color:"white",fontSize:"1.6rem"},loginButton:{color:"#c8bec6",fontSize:"1rem",fontStyle:"italic"},errorDisp:{position:"absolute",top:"22vh",left:"10vw"}});function A(e){z();var t=c.a.useState(""),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(g.jsx)("div",{children:Object(g.jsx)(L.a,{style:"PassWord"===e.Label?{width:"41vw",background:"white"}:{width:"20vw",background:"white"},id:"outlined-multiline-flexible",label:e.Label,multiline:!0,maxRows:4,value:a,onChange:function(t){r(t.target.value),e.changeVal(t.target.value)},variant:"outlined",height:"5vh"})})}var W=function(){var e=z(),t=Object(f.g)(),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),j=Object(u.a)(o,2),p=(j[0],j[1],Object(a.useState)("")),m=Object(u.a)(p,2),O=m[0],x=m[1],v=Object(a.useState)(""),y=Object(u.a)(v,2),N=y[0],C=y[1],S=Object(a.useState)(!1),F=Object(u.a)(S,2),L=F[0],W=F[1],R=Object(a.useState)(""),q=Object(u.a)(R,2),V=q[0],G=q[1],M=Object(a.useState)(""),J=Object(u.a)(M,2),K=J[0],X=J[1],Y=Object(a.useContext)(P),_=Object(a.useContext)(P),H=_.signup,Z=_.currentUser;function Q(){return(Q=Object(l.a)(i.a.mark((function e(n){var a,c,s,o,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),W(!0),""!==r){e.next=7;break}return W(!1),X("Please enter Name....."),setTimeout((function(){X("")}),2e3),e.abrupt("return");case 7:if(e.prev=7,a=function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")},c=function(e){W(!1),X(e),setTimeout((function(){X("")}),2e3)},s=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.snapshot.ref.getDownloadURL();case 2:return t=e.sent,console.log("File available at",t),console.log(I.users),e.next=7,I.users.doc(u).set({email:O,userId:u,username:r,createdAt:I.getCurrentTimeStamp(),profileUrl:t,postIds:[],password:N});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W(!0),""!==V){e.next=17;break}return W(!1),X("Please Upload a Profile Picture"),setTimeout((function(){X("")}),2e3),e.abrupt("return");case 17:return e.next=19,H(O,N);case 19:o=e.sent,u=o.user.uid,console.log(u),console.log(o),(d=D.ref("/users/".concat(u,"/profileImage")).put(V)).on("state_changed",a,c,s),W(!1),console.log("User has Signed up"),t.push("/"),e.next=36;break;case 30:e.prev=30,e.t0=e.catch(7),console.log(e.t0),W(!1),X(e.t0.message),setTimeout((function(){return X("")}),2e3);case 36:case"end":return e.stop()}}),e,null,[[7,30]])})))).apply(this,arguments)}return console.log(Y),Object(a.useEffect)((function(){Z&&t.push("/")}),[]),console.log("Name ===",r),console.log("Password ===",N),console.log("Email ===",O),Object(g.jsx)(g.Fragment,{children:L?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(B.a,{className:e.loader,color:"secondary"})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:e.signupPage,children:[Object(g.jsx)(w,{style:{width:"80vw"}}),""!==K?Object(g.jsx)(E.a,{className:e.errorDisp,severity:"error",children:K}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)("div",{style:{backgroundImage:"url(".concat(k,") "),backgroundSize:"cover",overflow:"hidden",width:"100vw",height:"96vh"},children:[Object(g.jsx)("h1",{className:e.heading,children:"SignUp"}),Object(g.jsxs)("div",{className:e.form,style:{margin:"8px",position:"relative",top:"20vh",left:"10vw",width:"50vw"},children:[Object(g.jsx)(U.a,{children:Object(g.jsx)(A,{value:r,Label:"Name",changeVal:s,style:{backgroundColor:"white",Color:"red"}})}),Object(g.jsxs)(U.a,{style:{margin:"0px 8px 0px 8px"},children:[Object(g.jsx)(A,{required:!0,value:O,Label:"Email",changeVal:x}),Object(g.jsx)(T.a,{id:"my-helper-text",children:"We'll never share your email."})]}),Object(g.jsx)("div",{children:Object(g.jsxs)(U.a,{style:{margin:"20px 0px",width:"20vw",height:"100px"},children:[Object(g.jsx)(A,{value:"",fullwidth:"true",Label:"PassWord",changeVal:C,style:{font:"16px",margin:"0px 8px",width:"100%"}}),Object(g.jsx)(T.a,{id:"my-helper-text",children:"We'll never share your Info."})]})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"file",id:"fileInput",accept:"images/*",onChange:function(e){var t=e.target.files[0];console.log(t),null!=t?G(t):null==t&&(X("Please upload profile picture..."),W(!1),setTimeout((function(){return X("")}),2e3))},style:{display:"none"}}),Object(g.jsx)("label",{htmlFor:"fileInput",children:Object(g.jsx)(d.a,{variant:"contained",color:"default",component:"span",className:e.button,startIcon:Object(g.jsx)(b.a,{}),children:"Upload Profile Image"})}),Object(g.jsx)(d.a,{variant:"contained",color:"primary",size:"large",className:e.button,startIcon:Object(g.jsx)(h.a,{}),onClick:function(e){return Q.apply(this,arguments)},children:"SignUp"})]})]}),Object(g.jsxs)("h4",{className:e.loginLink,children:["Already have an account ? To Login ",Object(g.jsx)(d.a,{onClick:function(){t.push("./login")},className:e.loginButton,children:"Click here"})]})]})]})})})},R=n.p+"static/media/loginbackground.1957c916.jpg",q=n(197),V=n(109),G=n.n(V),M=n(210),J=n(199),K=n(198),X=n(211),Y=n(112),_=n(212),H=Object(m.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var Z=function(e){var t=H(),n=c.a.useState(!0),r=Object(u.a)(n,2),s=r[0],o=r[1],i=c.a.useState(null),l=Object(u.a)(i,2),d=l[0],j=l[1],b=Boolean(d),p=Object(a.useContext)(P).logout,h=function(){j(null)};return Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsx)(K.a,{children:Object(g.jsx)(J.a,{control:Object(g.jsx)(M.a,{checked:s,onChange:function(e){o(e.target.checked),p()},"aria-label":"login switch"}),label:s?"Logout":"Login"})}),Object(g.jsx)(O.a,{position:"static",children:Object(g.jsxs)(x.a,{children:[Object(g.jsx)(q.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(g.jsx)(G.a,{})}),Object(g.jsx)(v.a,{variant:"h6",className:t.title,children:"Photos"}),s&&Object(g.jsxs)("div",{children:[Object(g.jsxs)(q.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:[console.log(e.userData.profileUrl),Object(g.jsx)(_.a,{src:e.userData.profileUrl}),Object(g.jsx)("div",{style:{height:"1rem",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1rem"},children:e.userData.username})]}),Object(g.jsxs)(Y.a,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:h,children:[Object(g.jsx)(X.a,{onClick:h,children:"Profile"}),Object(g.jsx)(X.a,{onClick:h,children:"My account"})]})]})]})})]})},Q=Object(m.a)({page:{height:"100vh",display:"flex"},formPart:{width:"50vw",marginLeft:"1px",display:"flex",backgroundColor:"#ede5e5",justifyContent:"center",alignItems:"center"},form:{width:"40vw"},wallPart:{display:"flex",justifyContent:"center",alignItems:"center",width:"60vw"},emailplusLabel:{display:"flex",justifyContent:"space-between",alignItems:"center"},PasswordplusLabel:{display:"flex",justifyContent:"space-between",alignItems:"center"},additionalInfo:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},submit:{position:"relative",left:"26%"},errorDisp:{position:"absolute"},header:{position:"fixed"},nameTag:{color:"#940e63",position:"relative",fontSize:"3rem",fontWeight:"400",marginBottom:"26vh",fontStyle:"oblique"}});var $=function(){var e=Q(),t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),j=o[0],b=o[1],p=Object(a.useState)(""),h=Object(u.a)(p,2),m=h[0],O=h[1],x=Object(a.useState)(!1),v=Object(u.a)(x,2),y=v[0],w=v[1],k=Object(a.useContext)(P).currentUser,N=Object(f.g)(),C=Object(a.useContext)(P).login,S=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,w(!0),e.next=5,C(c,j);case 5:w(!1),N.push("/"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),O(e.t0.message),setTimeout((function(){return O("")}),3e3),w(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){k&&N.push("/")}),[]),Object(g.jsx)(g.Fragment,{children:y?Object(g.jsx)("h1",{children:Object(g.jsx)(B.a,{className:e.loader,color:"secondary"})}):Object(g.jsxs)(g.Fragment,{children:[""!==m?Object(g.jsx)(E.a,{className:e.errorDisp,severity:"error",children:m}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:e.page,children:[Object(g.jsx)("div",{className:e.formPart,children:Object(g.jsxs)("form",{onSubmit:S,className:e.form,children:[Object(g.jsx)("h1",{className:e.nameTag,children:" LateLitre..."}),Object(g.jsx)("h3",{style:{fontSize:"1.7rem"},children:"Welcome back Mitra"}),Object(g.jsxs)("div",{className:e.emailplusLabel,children:[Object(g.jsx)("label",{htmlFor:"emailInput",style:{width:"20%"},children:" Email :"}),Object(g.jsx)(L.a,{style:{width:"75%"},onChange:function(e){return r(e.target.value)},required:!0,id:"emailInput",label:"Required",value:c,variant:"outlined"})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:e.PasswordplusLabel,children:[Object(g.jsx)("label",{htmlFor:"PasswordInput",style:{width:"20%"},children:" Password :"}),Object(g.jsx)(L.a,{style:{width:"75%"},required:!0,id:"PasswordInput",label:"Required",type:"password",value:j,variant:"outlined",onChange:function(e){return b(e.target.value)}})]}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:e.submit,children:Object(g.jsx)(d.a,{variant:"contained",color:"primary",onClick:S,children:"Submit"})}),Object(g.jsxs)("div",{className:e.additionalInfo,children:[Object(g.jsx)(d.a,{color:"primary",onClick:function(){N.push("/signup")},children:Object(g.jsx)("h4",{children:"register"})}),Object(g.jsx)(d.a,{color:"secondary",children:Object(g.jsx)("h4",{children:"forgot Password"})})]})]})}),Object(g.jsx)("div",{className:e.wallPart,style:{backgroundImage:"url(".concat(R,") "),backgroundPosition:"center",backgroundSize:"cover",overflow:"hidden",width:"60vw",height:"100vh"}})]})})]})})};var ee=function(){var e=Object(a.useContext)(P).logout,t=function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsx)("button",{onClick:t,children:"Logout"})})},te=n(40),ne=n(208),ae=n(200),ce=Object(m.a)((function(e){return{}}));var re=function(e){var t=ce(),n=Object(a.useState)(!1),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(null),j=Object(u.a)(o,2),b=j[0],p=j[1],h=["video/mp4","video/webm","video/ogg"];return Object(g.jsx)(g.Fragment,{children:null!=b?Object(g.jsx)(E.a,{severity:"error",children:b}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{color:"primary",type:"file",onChange:function(t){var n,a=null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.files[0];if(console.log(a),!a)return p("Please select a file"),void setTimeout((function(){p(null)}),2e3);if(-1===h.indexOf(a.type))return p("Please select a video file"),void setTimeout((function(){p(null)}),2e3);if(a.size/1048576>100)return p("The selected file is too big"),void setTimeout((function(){p(null)}),2e3);var c=Object(ne.a)(),r=D.ref("/posts/".concat(e.userData.userId,"/").concat(a.name)).put(a);function o(){return(o=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(!0),r.snapshot.ref.getDownloadURL().then((function(t){var n,a,r,o={comments:[],likes:[],pId:c,pUrl:t,uName:null===e||void 0===e||null===(n=e.userData)||void 0===n?void 0:n.username,uProfile:null===e||void 0===e||null===(a=e.userData)||void 0===a?void 0:a.profileUrl,userId:null===e||void 0===e||null===(r=e.userData)||void 0===r?void 0:r.userId,createdAt:I.getCurrentTimeStamp()};console.log(o),console.log(e.userData),I.posts.add(o).then(function(){var t=Object(l.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,I.users.doc(e.userData.userId).update({postIds:[].concat(Object(te.a)(e.userData.postIds),[n.id])});case 3:a=t.sent,console.log("printing res from uploadFile.js--\x3e",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){s(!1)})).catch((function(e){p(e),setTimeout((function(){p(null)}),2e3),s(!1)}))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){p(e),setTimeout((function(){p(null)}),2e3),s(!1)}),(function(){return o.apply(this,arguments)}))},id:"icon-button-file",style:{display:"none"}}),Object(g.jsx)("label",{htmlFor:"icon-button-file",children:Object(g.jsx)(d.a,{disabled:r,variant:"outlined",component:"span",className:t.button,size:"medium",color:"secondary",children:"Upload Video"})}),r?Object(g.jsx)(ae.a,{color:"secondary",style:{marginTop:"6%"}}):Object(g.jsx)(g.Fragment,{})]})})},se=(n(144),n(52)),oe=n(110),ie=n.n(oe),le=n(202),ue=n(204),de=n(203),je=n(111),be=n.n(je),pe=(n(145),n(209)),he=n(201);n(146);var fe=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("video",{onEnded:function(e){var t=s.a.findDOMNode(e.target).parentNode.nextSibling;t&&(t.scrollIntoView({behaviour:"smooth"}),e.target.muted=!0)},src:e.source,className:"video-styles",onClick:function(e){e.preventDefault(),e.target.muted=!e.target.muted},muted:"muted",type:"video/mp4"})})},me=n(92),Oe=n.n(me),xe=Object(m.a)({like:{color:"#e74c3c",cursor:"pointer"},unlike:{color:"white",cursor:"pointer"}});var ve=function(e){var t=e.userData,n=void 0===t?null:t,c=e.postData,r=void 0===c?null:c,s=Object(a.useState)(null),o=Object(u.a)(s,2),d=o[0],j=o[1],b=xe();Object(a.useEffect)((function(){var e=!!r.likes.includes(null===n||void 0===n?void 0:n.userId);j(e)}),[r]);var p=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==d){e.next=6;break}return t=r.likes.filter((function(e){return e!==n.userId})),e.next=4,I.posts.doc(r.postId).update({likes:t});case 4:e.next=9;break;case 6:return a=[].concat(Object(te.a)(r.likes),[n.userId]),e.next=9,I.posts.doc(r.postId).update({likes:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:null!=d?Object(g.jsx)(g.Fragment,{children:!1===d?Object(g.jsx)(Oe.a,{className:"".concat(b.unlike," icon-styling"),onClick:p}):Object(g.jsx)(Oe.a,{className:"".concat(b.like," icon-styling"),onClick:p})}):Object(g.jsx)(g.Fragment,{})})},ge=(n(147),Object(m.a)({cbtn:{marginRight:"1%",marginTop:"4%"}}));var ye=function(e){var t=e.userData,n=void 0===t?null:t,c=e.postData,r=void 0===c?null:c,s=ge(),o=Object(a.useState)(""),i=Object(u.a)(o,2),l=i[0],j=i[1];return Object(g.jsxs)("div",{className:"emojibox",children:[Object(g.jsx)(L.a,{value:l,fullWidth:!0,label:"Add a comment",onChange:function(e){var t=e.target.value;j(t)}}),Object(g.jsx)(d.a,{onClick:function(){var e={text:l,uName:n.username,uUrl:n.profileUrl};I.comments.add(e).then((function(e){I.posts.doc(r.postId).update({comments:[].concat(Object(te.a)(r.comments),[e.id])})})).catch((function(e){console.log(e+" ")})),j("")},disabled:""==l,className:s.cbtn,color:"primary",children:"Post"})]})},we=(n(148),Object(m.a)({da:{marginRight:"2%",marginTop:"2%"}}));var ke=function(e){var t=we(),n=Object(a.useState)(null),c=Object(u.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)(Object(l.a)(i.a.mark((function t(){var n,a,c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=0;case 2:if(!(a<e.postData.comments.length)){t.next=11;break}return c=e.postData.comments[a],t.next=6,I.comments.doc(c).get();case 6:r=t.sent,n.push(r.data());case 8:a++,t.next=2;break;case 11:s(n);case 12:case"end":return t.stop()}}),t)}))),[e.postData]),Object(g.jsx)(g.Fragment,{children:null==r?Object(g.jsx)(B.a,{}):r.map((function(e,n){return Object(g.jsxs)("div",{className:"comment-div",children:[Object(g.jsx)(_.a,{src:e.uUrl,className:t.da}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{style:{fontWeight:"bold",display:"inline-block"},children:e.uName}),"\xa0\xa0",e.text]})]},n)}))})},Ne=Object(m.a)({root:{width:"100%",padding:"0px"},loader:{position:"absolute",left:"50%",top:"50%"},typo:{marginLeft:"2%"},vac:{marginLeft:"3.5%",color:"#8e8e8e",cursor:"pointer"},dp:{marginLeft:"2%"},cc:{height:"50vh",overflowY:"auto"},seeComments:{height:"54vh",overflowY:"auto"},ci:{color:"white",left:"9%",cursor:"pointer"},mn:{color:"white"},tmn:{color:"white"}});var Ce=function(e){var t=e.userData,n=void 0===t?null:t,r=Ne(),s=Object(a.useState)(null),o=Object(u.a)(s,2),i=o[0],l=o[1],d=Object(a.useState)(null),j=Object(u.a)(d,2),b=j[0],p=j[1],h=function(){p(null)},f=new IntersectionObserver((function(e){e.forEach((function(e){console.log(e);var t=e.target.childNodes[0];t.play().then((function(){t.paused||e.isIntersecting||t.pause()}))}))}),{threshold:.85});return Object(a.useEffect)((function(){var e=[];return I.posts.orderBy("createdAt","desc").onSnapshot((function(t){e=[],t.forEach((function(t){console.log(t.data(),0+t.id);var n=Object(se.a)(Object(se.a)({},t.data()),{},{postId:t.id});e.push(n)})),l(e)}))}),[]),Object(a.useEffect)((function(){return document.querySelectorAll(".videos").forEach((function(e){f.observe(e)})),function(){f.disconnect()}}),[i]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"place"}),null==i?Object(g.jsx)(B.a,{className:r.loader,color:"secondary"}):Object(g.jsx)("div",{className:"video-container",id:"video-container",children:i.map((function(e){return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsxs)("div",{className:"videos",children:[Object(g.jsx)(fe,{source:e.pUrl,id:e.pId}),Object(g.jsxs)("div",{className:"fa",style:{display:"flex"},children:[Object(g.jsx)(_.a,{src:e.uProfile}),Object(g.jsx)("h4",{style:{Color:"black"},children:e.uName})]}),Object(g.jsx)(ve,{userData:n,postData:e}),Object(g.jsx)(ie.a,{onClick:function(){return t=e.pId,void p(t);var t},className:"".concat(r.ci," icon-styling")}),Object(g.jsx)(pe.a,{maxWidth:"md",onClose:h,"aria-labelledby":"customized-dialog-title",open:b===e.pId,children:Object(g.jsx)(he.a,{children:Object(g.jsxs)("div",{className:"dcontainer",children:[Object(g.jsx)("div",{className:"video-part",children:Object(g.jsx)("video",{height:"80vh",width:"50vw",autoPlay:!0,className:"video-styles2",controls:!0,id:e.id,muted:"muted",type:"video/mp4",children:Object(g.jsx)("source",{src:e.pUrl,type:"video/webm"})})}),Object(g.jsxs)("div",{className:"info-part",children:[Object(g.jsxs)(le.a,{children:[Object(g.jsx)(de.a,{avatar:Object(g.jsx)(_.a,{src:null===e||void 0===e?void 0:e.uProfile,"aria-label":"recipe",className:r.avatar}),action:Object(g.jsx)(q.a,{"aria-label":"settings",children:Object(g.jsx)(be.a,{})}),title:null===e||void 0===e?void 0:e.uName}),Object(g.jsx)("hr",{style:{border:"none",height:"1px",color:"#dfe6e9",backgroundColor:"#dfe6e9"}}),Object(g.jsx)(ue.a,{className:r.seeComments,children:Object(g.jsx)(ke,{userData:n,postData:e})})]}),Object(g.jsxs)("div",{className:"extra",children:[Object(g.jsx)("div",{className:"likes",children:Object(g.jsxs)(v.a,{className:r.typo,variant:"body2",children:["Liked By ",0==e.likes.length?"nobody":" others"]})}),Object(g.jsx)(ye,{userData:n,postData:e})]})]})]})})})]}),Object(g.jsx)("div",{className:"place"})]},e.postId)}))})]})};var Se=function(){var e=Object(a.useContext)(P).currentUser,t=Object(a.useState)(null),n=Object(u.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){I.users.doc(e.uid).onSnapshot((function(e){r(e.data())}))}),[e]),Object(g.jsx)(g.Fragment,{children:null==c?Object(g.jsx)(B.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Z,{userData:c}),Object(g.jsx)("div",{style:{height:"1.5vh"}}),Object(g.jsx)("div",{className:"feed-container",children:Object(g.jsxs)("div",{className:"center",children:[Object(g.jsx)(re,{userData:c}),Object(g.jsx)(Ce,{userData:c})]})})]})})},Ie=n(68),De=n(113),Pe=["component"];var Fe=function(e){var t=e.component,n=Object(De.a)(e,Pe),c=Object(a.useContext)(P).currentUser;return Object(g.jsx)("div",{children:Object(g.jsx)(f.b,Object(se.a)(Object(se.a)({},n),{},{render:function(e){return c?Object(g.jsx)(t,Object(se.a)({},e)):Object(g.jsx)(f.a,{to:"/login"})}}))})};var Te=function(){var e=Object(a.useContext)(P).currentUser,t=Object(a.useState)([]),n=Object(u.a)(t,2);n[0],n[1],Object(a.useEffect)((function(){c()}),[]);var c=function(){var t=Object(l.a)(i.a.mark((function t(){var n,a,c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=I.users.doc("".concat(e.uid)),t.next=4,n.get();case 4:if(!(a=t.sent).exists){t.next=14;break}return console.log("Document data:",a.data()),c=Object(te.a)(a.data().postIds),console.log(c),r=[],t.next=12,Promise.all(c.map(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I.posts.doc("".concat(t)),e.next=3,n.get();case 3:(c=e.sent).exists?console.log("Document data:",a.data()):console.log("doc doesnt exist"),r.push(n.get()),console.log(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:t.next=15;break;case 14:console.log("No such document!");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log("error is --\x3e",t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"This is profile page"}),Object(g.jsx)(g.Fragment,{})]})};var Ue=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(Ie.a,{children:Object(g.jsx)(F,{children:Object(g.jsxs)(f.d,{children:[Object(g.jsx)(Fe,{exact:!0,path:"/",component:Se}),Object(g.jsx)(f.b,{exact:!0,path:"/login",component:$}),Object(g.jsx)(f.b,{exact:!0,path:"/signup",component:W}),Object(g.jsx)(f.b,{exact:!0,path:"/logout",component:ee}),Object(g.jsx)(f.b,{exact:!0,path:"/profile",component:Te})]})})})})};Object(m.a)((function(e){return{button:{margin:e.spacing(1)}}}));n(78),Object(m.a)((function(e){return{root:{flexGrow:1},app:{backgroundColor:"#a48aa5"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var Le=n(84);n(193),Object(m.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},button:{margin:e.spacing(1)},form:Object(Le.a)({backgroundColor:"black",margin:"5vh",position:"absolute",top:"50vh"},"backgroundColor","black")}}}));n.p;var Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,214)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(Ue,{}),document.getElementById("root")),Ee()}},[[149,1,2]]]);
//# sourceMappingURL=main.7cd51bfb.chunk.js.map